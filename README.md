# 京东秒杀抢购脚本

这是一个用Python编写的京东商品抢购脚本，支持定时抢购、无人值守等功能。

## 功能特点

- 支持商品页抢购和购物车抢购两种模式
- 支持二维码登录
- 自动等待抢购时间
- 保存登录状态，避免重复登录
- 可配置最大重试次数和抢购策略
- 详细的日志记录
- 支持Edge浏览器

## 环境要求

- Python 3.6+
- Microsoft Edge浏览器
- EdgeDriver（需与Edge版本匹配）

## 依赖安装

```bash
pip install -r requirements.txt
```

## 准备工作

1. 安装依赖：`pip install -r requirements.txt`
2. 确保安装了Microsoft Edge浏览器
3. 下载与Edge版本对应的[EdgeDriver](https://developer.microsoft.com/en-us/microsoft-edge/tools/webdriver/)，并确保EdgeDriver可执行文件在系统PATH中

## 配置说明

编辑`config.ini`文件，设置以下参数：

- `sku_id`: 商品ID，从商品URL中获取
- `buy_time`: 抢购时间，格式为：年-月-日 时:分:秒.毫秒
- `method`: 抢购方式，`cart`(购物车抢购) 或 `direct`(直接抢购)
- `max_retry`: 抢购失败后的最大重试次数
- `headless`: 是否启用无头模式（不显示浏览器窗口）
- `edge_user_data`: Edge用户数据目录，用于保存登录状态
- `keep_browser`: 抢购完成后是否保持浏览器窗口打开
- `address_id`: 收货地址ID（可选）
- `payment_type`: 支付方式（可选）

## 使用方法

1. 编辑`config.ini`文件，设置商品ID和抢购时间
2. 运行脚本：`python jd_seckill.py`
3. 首次运行会弹出浏览器窗口，请手动扫描二维码登录
4. 登录成功后，脚本会自动等待到设定的抢购时间
5. 抢购开始后，脚本会自动尝试下单

## 注意事项

- 请勿将抢购时间设置得太接近，建议提前1-2分钟开始运行脚本
- 使用本脚本前，建议先在京东APP或网页端设置好支付方式、收货地址等信息
- 本脚本仅用于学习和研究，请勿用于商业用途，不得违反京东平台规则
- 频繁抢购可能导致账号被风控，请适度使用

## 代码结构

- `jd_seckill.py`: 主程序
- `config.ini`: 配置文件
- `cookies.json`: 保存的登录状态（自动生成）
- `jd_seckill.log`: 日志文件（自动生成）

## 常见问题

1. 提示"登录失败"怎么办？
   - 检查网络连接是否正常
   - 尝试清除浏览器缓存后重新登录
   - 检查是否使用了错误的Edge用户数据目录

2. 到了抢购时间但没有自动抢购？
   - 检查系统时间是否准确
   - 确认抢购时间格式是否正确
   - 检查商品ID是否正确

3. 显示"抢购失败"怎么办？
   - 增加最大重试次数
   - 检查商品是否有货
   - 尝试更换抢购方式

## 免责声明

本项目仅供学习交流使用，请勿用于商业用途。使用本脚本造成的任何问题，作者不承担任何责任。